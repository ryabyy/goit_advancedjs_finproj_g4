{"version":3,"file":"index.js","sources":["../src/js/side-menu.js","../src/js/header.js","../src/js/services.js","../src/js/templates.js","../src/js/card.js","../src/js/favorites-card.js","../src/js/quote.js","../src/js/favorites.js","../src/js/modal_exercise.js","../src/js/exercise-card.js","../src/js/exercises.js","../src/js/tags.js","../src/js/subscribe-form.js","../src/main.js"],"sourcesContent":["const burgerMenu = document.getElementById('burger-menu');\nconst sideMenu = document.getElementById('side-menu');\nconst sideMenuClose = document.getElementById('side-menu-close');\nconst sideMenuHomeButton = sideMenu.querySelector(\n  '.button-container .button:nth-child(1)'\n);\nconst sideMenuFavoritesButton = sideMenu.querySelector(\n  '.button-container .button:nth-child(2)'\n);\n\nburgerMenu.addEventListener('click', () => {\n  sideMenu.style.right = '0';\n});\n\nsideMenuClose.addEventListener('click', () => {\n  sideMenu.style.right = '-100%';\n});\n\ndocument.addEventListener('click', event => {\n  if (!sideMenu.contains(event.target) && !burgerMenu.contains(event.target)) {\n    sideMenu.style.right = '-100%';\n  }\n});\n\nfunction switchSection(sectionId) {\n  document.querySelectorAll('.category').forEach(category => {\n    category.classList.remove('category--active');\n  });\n  document\n    .getElementById(sectionId)\n    .closest('.category')\n    .classList.add('category--active');\n}\n\nfunction closeSideMenu() {\n  sideMenu.style.right = '-100%';\n}\n\nwindow.addEventListener('keydown', function (event) {\n  if (event.key === 'Escape') {\n    closeSideMenu();\n  }\n});\n\nfunction initializeSideMenuNavigation() {\n  sideMenuHomeButton.addEventListener('click', e => {\n    e.preventDefault();\n    switchSection('home-page-button');\n    closeSideMenu();\n    setTimeout(() => {\n      document.getElementById('home-page').style.display = 'block';\n      document.getElementById('favorites-page').style.display = 'none';\n    }, 300);\n  });\n\n  sideMenuFavoritesButton.addEventListener('click', e => {\n    e.preventDefault();\n    switchSection('favorites-page-button');\n    closeSideMenu();\n    setTimeout(() => {\n      document.getElementById('home-page').style.display = 'none';\n      document.getElementById('favorites-page').style.display = 'block';\n    }, 300);\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initializeSideMenuNavigation();\n});\n","const Container = document.querySelector('.categories-container');\nconst Items = Container.querySelectorAll('.category');\nconst ActiveItem = Container.querySelector('.category--active');\nconst Switcher = Container.querySelector('.switcher');\n\nfunction moveSwitcherTo(item) {\n  Switcher.style.width = `${item.offsetWidth}px`;\n  Switcher.style.left = `${item.offsetLeft}px`;\n}\n\nfunction isActiveItems(elements, activeElem, container) {\n  if (activeElem) {\n    moveSwitcherTo(activeElem);\n  }\n\n  elements.forEach(element => {\n    const link = element.querySelector('.category__link');\n\n    link.addEventListener('click', event => {\n      event.preventDefault();\n\n      container.querySelector('.category--active')?.classList.remove('category--active');\n\n      element.classList.add('category--active');\n\n      moveSwitcherTo(element);\n\n      const href = link.getAttribute('href');\n      setTimeout(() => {\n        window.location.href = href;\n      }, 300);\n    });\n  });\n}\n\nisActiveItems(Items, ActiveItem, Container);","import axios from 'axios';\n\nexport class ApiError extends Error {\n  constructor(message, statusCode) {\n    super(message);\n    this.name = this.constructor.name;\n    this.statusCode = statusCode;\n  }\n}\n\nexport class ApiService {\n  static EXERCISES_URL = 'https://your-energy.b.goit.study/api/exercises';\n  static FILTERS_URL = 'https://your-energy.b.goit.study/api/filters';\n  static QUOTE_URL = 'https://your-energy.b.goit.study/api/quote';\n  static SUBSCRIBE_URL = 'https://your-energy.b.goit.study/api/subscription';\n\n  static async fetchFilters(filter, page, limit) {\n    try {\n      const params = {\n        filter: filter,\n        page: page,\n        limit: limit,\n      };\n\n      const response = await axios.get(ApiService.FILTERS_URL, {\n        params: params,\n      });\n      if (response.status === 200) {\n        return response.data;\n      }\n    } catch (error) {\n      if (error.response) {\n        switch (error.response.status) {\n          case 404:\n            throw new ApiError('Not found.', 404);\n          case 500:\n            throw new ApiError('Server error.', 500);\n          default:\n            throw new ApiError(\n              'An unknown error occurred.',\n              error.response.status\n            );\n        }\n      } else if (error.request) {\n        throw new ApiError('No response from the server.', 0);\n      } else {\n        throw new ApiError('An unexpected error occurred.', 0);\n      }\n    }\n  }\n  static async fetchExercises(\n    bodypart,\n    muscles,\n    equipment,\n    keyword,\n    page,\n    limit\n  ) {\n    try {\n      const params = {\n        ...(bodypart && { bodypart }),\n        ...(muscles && { muscles }),\n        ...(equipment && { equipment }),\n        ...(keyword && { keyword }),\n        page: page,\n        limit: limit,\n      };\n\n      const response = await axios.get(ApiService.EXERCISES_URL, {\n        params: params,\n      });\n      if (response.status === 200) {\n        return response.data;\n      }\n    } catch (error) {\n      if (error.response) {\n        switch (error.response.status) {\n          case 404:\n            throw new ApiError('Not found.', 404);\n          case 500:\n            throw new ApiError('Server error.', 500);\n          default:\n            throw new ApiError(\n              'An unknown error occurred.',\n              error.response.status\n            );\n        }\n      } else if (error.request) {\n        throw new ApiError('No response from the server.', 0);\n      } else {\n        throw new ApiError('An unexpected error occurred.', 0);\n      }\n    }\n  }\n  static async fetchExerciseByID(exerciseID) {\n    try {\n      const response = await axios.get(\n        `${ApiService.EXERCISES_URL}/${exerciseID}`\n      );\n      if (response.status === 200) {\n        return response.data;\n      }\n    } catch (error) {\n      if (error.response) {\n        switch (error.response.status) {\n          case 400:\n            throw new ApiError('Bad request (invalid request body).', 400);\n          case 404:\n            throw new ApiError('Not found.', 404);\n          case 500:\n            throw new ApiError('Server error.', 500);\n          default:\n            throw new ApiError(\n              'An unknown error occurred.',\n              error.response.status\n            );\n        }\n      } else if (error.request) {\n        throw new ApiError('No response from the server.', 0);\n      } else {\n        throw new ApiError('An unexpected error occurred.', 0);\n      }\n    }\n  }\n  static async submitExerciseRating(exerciseID, rate, email, review) {\n    try {\n      const data = {\n        rate: rate,\n        email: email,\n        review: review,\n      };\n\n      const response = await axios.patch(\n        `${ApiService.EXERCISES_URL}/${exerciseID}/rating`,\n        data\n      );\n\n      if (response.status === 200) {\n        return response.data;\n      }\n    } catch (error) {\n      if (error.response) {\n        switch (error.response.status) {\n          case 409:\n            throw new ApiError('Such email already exists', 409);\n          case 400:\n            throw new ApiError('Bad request (invalid request body).', 400);\n          case 404:\n            throw new ApiError('Such exercise not found.', 404);\n          case 500:\n            throw new ApiError('Server error', 500);\n          default:\n            throw new ApiError(\n              'An unknown error occurred.',\n              error.response.status\n            );\n        }\n      } else if (error.request) {\n        throw new ApiError('No response from the server.', 0);\n      } else {\n        throw new ApiError('An unexpected error occurred.', 0);\n      }\n    }\n  }\n  static async fetchQuote() {\n    try {\n      const response = await axios.get(ApiService.QUOTE_URL);\n      if (response.status === 200) {\n        return response.data;\n      }\n    } catch (error) {\n      if (error.response) {\n        switch (error.response.status) {\n          case 404:\n            throw new ApiError('Not found.', 404);\n          case 500:\n            throw new ApiError('Server error.', 500);\n          default:\n            throw new ApiError(\n              'An unknown error occurred.',\n              error.response.status\n            );\n        }\n      } else if (error.request) {\n        throw new ApiError('No response from the server.', 0);\n      } else {\n        throw new ApiError('An unexpected error occurred.', 0);\n      }\n    }\n  }\n  static async addSubscription(email) {\n    try {\n      const data = {\n        email: email,\n      };\n\n      const response = await axios.post(ApiService.SUBSCRIBE_URL, data);\n\n      if (response.status === 201) {\n        return response.data;\n      }\n    } catch (error) {\n      if (error.response) {\n        switch (error.response.status) {\n          case 409:\n            throw new ApiError('Subscription already exists', 409);\n          case 400:\n            throw new ApiError('Bad request (invalid request body).', 400);\n          case 404:\n            throw new ApiError('Not found.', 404);\n          case 500:\n            throw new ApiError('Server error', 500);\n          default:\n            throw new ApiError(\n              'An unknown error occurred.',\n              error.response.status\n            );\n        }\n      } else if (error.request) {\n        throw new ApiError('No response from the server.', 0);\n      } else {\n        throw new ApiError('An unexpected error occurred.', 0);\n      }\n    }\n  }\n}\n\nexport class StorageService {\n  static QUOTE_KEY = 'quoteOfTheDay';\n  static FAVORITES_KEY = 'favorites';\n\n  static getCurrentDate() {\n    const now = new Date();\n    const day = String(now.getDate()).padStart(2, '0');\n    const month = String(now.getMonth() + 1).padStart(2, '0');\n    const year = now.getFullYear();\n\n    return `${day}.${month}.${year}`;\n  }\n\n  static storeDailyQuote(quote) {\n    const dated_quote = {\n      date: StorageService.getCurrentDate(),\n      quote: quote,\n    };\n    try {\n      localStorage.setItem(\n        StorageService.QUOTE_KEY,\n        JSON.stringify(dated_quote)\n      );\n    } catch (error) {\n      throw new Error('Failed to save quote to localStorage');\n    }\n  }\n\n  static async loadDailyQuote() {\n    try {\n      const dated_quote = localStorage.getItem(StorageService.QUOTE_KEY);\n      if (dated_quote) {\n        const { date, quote } = JSON.parse(dated_quote);\n        if (date === StorageService.getCurrentDate()) {\n          return quote;\n        }\n      }\n      const apiQuote = await ApiService.fetchQuote();\n      StorageService.storeDailyQuote(apiQuote);\n      return apiQuote;\n    } catch (error) {\n      throw new Error('Failed to load quote');\n    }\n  }\n\n  static clearDailyQuote() {\n    try {\n      localStorage.removeItem(StorageService.QUOTE_KEY);\n    } catch (error) {\n      throw new Error('Failed to clear quote in localStorage');\n    }\n  }\n\n  static addExerciseToFavorites(exercise) {\n    let favorites = this.loadFavorites();\n    favorites.push(exercise);\n    this.storeFavorites(favorites);\n  }\n\n  static removeExerciseFromFavorites(id) {\n    let favorites = this.loadFavorites();\n    favorites = favorites.filter(f => f._id != id);\n    this.storeFavorites(favorites);\n  }\n\n  static storeFavorites(favorites) {\n    try {\n      localStorage.setItem(\n        StorageService.FAVORITES_KEY,\n        JSON.stringify(favorites)\n      );\n    } catch (error) {\n      throw new Error('Failed to save favorites to localStorage');\n    }\n  }\n\n  static loadFavorites() {\n    try {\n      const favorites = localStorage.getItem(StorageService.FAVORITES_KEY);\n      if (favorites) {\n        return JSON.parse(favorites);\n      } else {\n        return [];\n      }\n    } catch (error) {\n      throw new Error('Failed to load favorites');\n    }\n  }\n\n  static clearFavorites() {\n    try {\n      localStorage.removeItem(StorageService.FAVORITES_KEY);\n    } catch (error) {\n      throw new Error('Failed to clear favorites in localStorage');\n    }\n  }\n}\n","export class Templates {\n  static exercisesTitleFilter(filter) {\n    return ` / <span class=\"exercises-title-filter\">${filter}</span>`;\n  }\n\n  static filterTypeHtml(filterType, active) {\n    return `<li><a href=\"#\" class='exercises-filter-type ${\n      active ? 'active' : ''\n    }' name='filter-type' data-filter-type='${filterType}'>${filterType}</a></li>`;\n  }\n\n  static exerciseFilterHtml(filter) {\n    return `<li class=\"exercises-filter-card\" name='filter-item' data-filter='${filter.name}' style=\"background-image: url('${filter.imgURL}')\">\n                <h3 class=\"exercises-filter-card-name\">${filter.name}</h3>\n                <p class=\"exercises-filter-card-type\">${filter.filter}</p>\n            </li>`;\n  }\n\n  static pageNumberButtonHtml(pageNumber, disabled) {\n    return disabled\n      ? `<li><span class=\"exercises-page-button disabled\">${pageNumber}</span></li>`\n      : `<li><a href='#' class='exercises-page-button' name='page-number-button' data-page-number='${pageNumber}'>${pageNumber}</a></li>`;\n  }\n\n  static pageNumberDots() {\n    return `<li><span class=\"exercises-page-button noclick\">...</span></li>`;\n  }\n\n  static pageNavigationButton(pageNumber, type, state) {\n    return `  \n        <svg name='page-number-button' data-page-number='${pageNumber}' class='exercises-page-button ${state}' width=\"40\" height=\"40\">\n          <use href=\"./sprite.svg#page-pagination-arrow-${type}-${state}\"></use>\n        </svg>\n        `;\n  }\n}\n","export class Card {\n  #STATS_CLASS_NAMES = { // enum\n      CALORIES: 'cal',\n      PART: 'part',\n      TARGET: 'target',\n  };\n  #STATS_ITEMS = [\n    { name: 'Burned calories', className: this.#STATS_CLASS_NAMES.CALORIES },\n    { name: 'Body part', className: this.#STATS_CLASS_NAMES.PART },\n    { name: 'Target', className: this.#STATS_CLASS_NAMES.TARGET },\n  ];\n\n  _card;\n  #startBtn;\n\n  constructor() {\n    this._card = this.#createCard();\n    this.#startBtn = this._card.querySelector('.exer-card__start-btn');\n  }\n\n  get card() {\n    return this._card;\n  }\n\n  get startBtn() {\n    return this.#startBtn;\n  }\n\n  updateCard({ name, burnedCalories, bodyPart, target }) {\n    // update card name\n    this._card.querySelector('.exer-card__name__text')\n      .innerText = this.#truncateString(name[0].toUpperCase() + name.slice(1), 22);\n    // update stats\n    this._card.querySelector(`.${this.#STATS_CLASS_NAMES.CALORIES} span`)\n      .innerText = this.#truncateString(burnedCalories.toString(), 9);\n    this._card.querySelector(`.${this.#STATS_CLASS_NAMES.PART} span`)\n      .innerText = this.#truncateString(bodyPart, 9);\n    this._card.querySelector(`.${this.#STATS_CLASS_NAMES.TARGET} span`)\n      .innerText = this.#truncateString(target, 9);\n  }\n\n  #createCard() {\n    const li = document.createElement('li');\n    li.classList.add('exer-card');\n\n    // Item header\n    const header = document.createElement('div');\n    const tagBox = document.createElement('div');\n    const tag = document.createElement('div');\n    const postTag = this._getPostTagItem();\n    const startBtn = document.createElement('button');\n    header.classList.add('exer-card__header');\n    tagBox.classList.add('exer-card__tag-box');\n    tag.classList.add('exer-card__tag');\n    tag.innerText = 'WORKOUT';\n    postTag.classList.add('exer-card__post-tag');\n    startBtn.classList.add('exer-card__start-btn');\n    startBtn.innerText = 'Start';\n    startBtn.append(this.getIcon('16', '16', 'arrow-right'));\n    tagBox.append(tag, postTag);\n    header.append(tagBox, startBtn);\n    li.append(header);\n\n    // Item name\n    const name = document.createElement('div');\n    const icon = this.getIcon('24', '24', 'icon-running-man-black-bg');\n    const nameText = document.createElement('p');\n    name.classList.add('exer-card__name');\n    icon.classList.add('exer-card__name__icon');\n    nameText.classList.add('exer-card__name__text');\n    name.append(icon, nameText);\n    li.append(name);\n\n    // Item stats\n    const stats = document.createElement('div');\n    stats.classList.add('exer-card__stats');\n    this.#STATS_ITEMS.forEach(({ name, className }) => {\n      stats.append(this.#getStatsEl(name, className));\n    });\n    li.append(stats);\n\n    return li;\n  }\n\n  _getPostTagItem() { // protected\n    return document.createElement('div');\n  }\n\n  #getStatsEl(name, className) {\n    const container = document.createElement('div');\n    const span = document.createElement('span');\n    container.classList.add('exer-card__stats__param', className);\n    container.innerText = `${name}: `;\n    container.appendChild(span);\n    return container;\n  }\n\n  getIcon(width, height, id) { // protected\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg')\n    const use = document.createElementNS('http://www.w3.org/2000/svg', 'use');\n    use.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', `./sprite.svg#${id}`);\n    svg.setAttribute('width', width);\n    svg.setAttribute('height', height);\n    svg.append(use);\n    return svg;\n  }\n\n  #truncateString(str, maxLength) {\n    if (str.length <= maxLength) {\n      return str;\n    }\n    const strSliced = str.slice(0, maxLength);\n    if (strSliced.length <= 3) {\n      return strSliced + '...';\n    }\n    return strSliced.slice(0, -3) + '...';\n  }\n}\n","import { Card } from './card.js';\n\nexport class FavoritesCard extends Card {\n  #removeBtn;\n\n  constructor() {\n    super();\n    this.#removeBtn = this.card.querySelector('.exer-card__post-tag button');\n  }\n\n  get removeBtn() {\n    return this.#removeBtn;\n  }\n\n  _getPostTagItem() {\n    const item = super._getPostTagItem();\n    const removeBtn = document.createElement('button');\n    removeBtn.append(this.getIcon('16', '16', 'trash-black'));\n    item.append(removeBtn);\n    return item;\n  }\n}","export class Quote {\n  static PAGES = {\n    HOME: 'home',\n    FAVORITES: 'favorites'\n  }\n\n  #textId;\n  #authorId;\n  #textElem;\n  #authorElem;\n\n  constructor(page, parentClass) {\n    this.#initTextFields(page, parentClass);\n  }\n\n  #initTextFields(page, parentClass) {\n    const textElem = document.querySelector(`.${parentClass} .quote-body__text`);\n    const authorElem = document.querySelector(`.${parentClass} .quote-body__author`);\n    this.#textId = `${page}-quote-text`;\n    this.#authorId = `${page}-quote-author`;\n    textElem.id = this.#textId;\n    authorElem.id = this.#authorId;\n\n    this.#textElem = document.querySelector(`#${this.#textId}`);\n    this.#authorElem = document.querySelector(`#${this.#authorId}`);\n  }\n\n  updateQuote({ quote, author }) {\n    this.#textElem.innerText = quote;\n    this.#authorElem.innerText = author;\n  }\n}\n","import { FavoritesCard } from './favorites-card.js';\nimport { ApiService, StorageService } from './services.js';\nimport { showExerciseDetails } from './modal_exercise.js';\nimport { Quote } from './quote.js';\n\nconst EMPTY_MSG =\n  \"It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.\";\n\nconst quoteElem = new Quote(Quote.PAGES.FAVORITES, 'favorites__info-panel');\nconst listContainer = document.querySelector('.favorites__list');\nconst emptyListElem = document.createElement('div');\nconst emptyListText = document.createElement('p');\nconst listElem = document.createElement('ul');\nconst favNavBtn = document.querySelector('#favorites-page-button');\n\nemptyListElem.append(emptyListText);\nemptyListElem.classList.add('list__empty-msg');\nemptyListText.innerText = EMPTY_MSG;\nlistElem.classList.add('exer-list');\n\nexport function updateFavoritesList() {\n  const favList = StorageService.loadFavorites();\n  if (favList.length === 0) {\n    showEmptyMsg();\n    return;\n  }\n  updateList(favList);\n}\n\nfavNavBtn.addEventListener('pointerup', async e => {\n  await updateQuote();\n  updateFavoritesList();\n});\n\nfunction updateList(listData) {\n  clearList();\n  listContainer.append(listElem);\n  listData.forEach(({ _id, name, burnedCalories, bodyPart, target }) => {\n    const card = addCard(_id);\n    card.updateCard({ name, burnedCalories, bodyPart, target });\n  });\n}\n\nfunction clearList() {\n  while (listElem.lastElementChild) {\n    listElem.removeChild(listElem.lastElementChild);\n  }\n  listElem.remove();\n  emptyListElem.remove();\n}\n\nasync function updateQuote() {\n  const { quote, author } = await StorageService.loadDailyQuote();\n  quoteElem.updateQuote({ quote, author });\n}\n\nfunction addCard(id) {\n  const card = new FavoritesCard();\n  card.removeBtn.addEventListener('pointerup', () => {\n    removeCard(card.card, id);\n  });\n  card.startBtn.addEventListener('pointerup', async function (e) {\n    const exercise = await ApiService.fetchExerciseByID(id);\n    const isFavorite = StorageService.loadFavorites().some(\n      x => x._id === exercise._id\n    );\n    showExerciseDetails(exercise, isFavorite);\n  });\n  listElem.append(card.card);\n  return card;\n}\n\nfunction removeCard(card, id) {\n  StorageService.removeExerciseFromFavorites(id);\n  card.remove();\n  if (StorageService.loadFavorites().length === 0) {\n    showEmptyMsg();\n  }\n}\n\nfunction showEmptyMsg() {\n  listElem.remove();\n  listContainer.append(emptyListElem);\n}\n","import * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\nimport { StorageService } from './services';\nimport { updateFavoritesList } from './favorites';\n\nexport function showExerciseDetails(exercise, isFavorite) {\n  const infoItems = {\n    Target: exercise.target,\n    'Body part': exercise.bodyPart,\n    Equipment: exercise.equipment,\n    Popular: exercise.popularity,\n    'Burned Calories': `${exercise.burnedCalories} / ${exercise.time} min`,\n  };\n\n  const escCallback = event => {\n    if (event.key === 'Escape') {\n      instance.close();\n    }\n  };\n\n  const instance = basicLightbox.create(\n    `\n        <div class=\"modal-container\">\n            <button class=\"modal-close-button\" type=\"button\">\n              <svg class=\"modal-close-button-icon\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                 <path d=\"M11 1L1 11M1 1L11 11\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n             </svg>\n            </button>\n            <img class=\"modal-exercise-image\" src=\"${\n              exercise.gifUrl\n            }\" width=\"295\" height=\"258\">\n\n            <div class=\"modal-exercise-details-layout\">\n              <p class=\"modal-exercise-title\">${exercise.name}</p>\n\n              <div class=\"modal-exercise-rating-layout\">\n                  <p class=\"modal-exercise-rating\">${exercise.rating.toString()}</p>\n                  ${createRatingStarsMarkup(exercise.rating)}\n              </div>\n\n              <div class=\"model-exercise-info-layout\">\n                  ${createInfoLayoutMarkup(infoItems)}\n              </div>\n\n              <p class=\"modal-exercise-description\">${exercise.description}</p>\n\n              <button class=\"modal-exercise-add-to-favorites-button\">\n                ${createFavButtonInnerMarkup(isFavorite)}\n              </button>\n            </div>\n        </div>\n    `,\n    {\n      onShow: instance => {\n        instance.element().querySelector('.modal-close-button').onclick =\n          instance.close;\n      },\n      onClose: instance => {\n        document.body.removeEventListener('keydown', escCallback);\n      },\n    }\n  );\n\n  instance.show();\n\n  const favButton = document.querySelector(\n    '.modal-exercise-add-to-favorites-button'\n  );\n\n  favButton.addEventListener('click', event => {\n    if (isFavorite) {\n      StorageService.removeExerciseFromFavorites(exercise._id);\n    } else {\n      StorageService.addExerciseToFavorites(exercise);\n    }\n    isFavorite = !isFavorite;\n    favButton.innerHTML = createFavButtonInnerMarkup(isFavorite);\n    updateFavoritesList();\n  });\n\n  document.body.addEventListener('keydown', escCallback);\n}\n\nfunction createRatingStarsMarkup(rating) {\n  const markups = [];\n\n  for (let i = 1; i <= 5; i++) {\n    const iconName = i <= rating ? 'rating-star-orange' : 'rating-star-gray';\n    markups.push(\n      `\n        <div class=\"rating-icon-wrapper\">\n          <svg class=\"rating-icon\" width=\"14\" height=\"13\">\n            <use href=\"./sprite.svg#${iconName}\" />\n          </svg>\n        </div>\n      `\n    );\n  }\n\n  return markups.join('');\n}\n\nfunction createInfoLayoutMarkup(infoItems) {\n  const markups = [];\n\n  for (const name in infoItems) {\n    const value = infoItems[name];\n\n    markups.push(\n      `<div class=\"modal-exercise-info-item\">\n            <p class=\"name\">${name}</p>\n            <p class=\"value\">${value}</p>\n      </div>`\n    );\n  }\n\n  return markups.join('');\n}\n\nfunction createFavButtonInnerMarkup(isFavorite) {\n  return !isFavorite\n    ? `\n        Add to favorites\n        <svg class=\"favorite-button-icon\" width=\"18\" height=\"18\" viewBox=\"0 0 20 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M17.3666 2.84172C16.941 2.41589 16.4356 2.0781 15.8794 1.84763C15.3232 1.61716 14.727 1.49854 14.1249 1.49854C13.5229 1.49854 12.9267 1.61716 12.3705 1.84763C11.8143 2.0781 11.3089 2.41589 10.8833 2.84172L9.99994 3.72506L9.1166 2.84172C8.25686 1.98198 7.0908 1.49898 5.87494 1.49898C4.65907 1.49898 3.49301 1.98198 2.63327 2.84172C1.77353 3.70147 1.29053 4.86753 1.29053 6.08339C1.29053 7.29925 1.77353 8.46531 2.63327 9.32506L3.5166 10.2084L9.99994 16.6917L16.4833 10.2084L17.3666 9.32506C17.7924 8.89943 18.1302 8.39407 18.3607 7.83785C18.5912 7.28164 18.7098 6.68546 18.7098 6.08339C18.7098 5.48132 18.5912 4.88514 18.3607 4.32893C18.1302 3.77271 17.7924 3.26735 17.3666 2.84172Z\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        </svg>\n      `\n    : `\n        Remove from favorites\n        <svg class=\"favorite-button-icon\" width=\"18\" height=\"20\" viewBox=\"0 0 18 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M12.3333 4.99996V4.33329C12.3333 3.39987 12.3333 2.93316 12.1517 2.57664C11.9919 2.26304 11.7369 2.00807 11.4233 1.84828C11.0668 1.66663 10.6001 1.66663 9.66667 1.66663H8.33333C7.39991 1.66663 6.9332 1.66663 6.57668 1.84828C6.26308 2.00807 6.00811 2.26304 5.84832 2.57664C5.66667 2.93316 5.66667 3.39987 5.66667 4.33329V4.99996M7.33333 9.58329V13.75M10.6667 9.58329V13.75M1.5 4.99996H16.5M14.8333 4.99996V14.3333C14.8333 15.7334 14.8333 16.4335 14.5608 16.9683C14.3212 17.4387 13.9387 17.8211 13.4683 18.0608C12.9335 18.3333 12.2335 18.3333 10.8333 18.3333H7.16667C5.76654 18.3333 5.06647 18.3333 4.53169 18.0608C4.06129 17.8211 3.67883 17.4387 3.43915 16.9683C3.16667 16.4335 3.16667 15.7334 3.16667 14.3333V4.99996\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        </svg>\n      `;\n}\n","import { Card } from './card.js';\n\nexport class ExerciseCard extends Card {\n  constructor() {\n    super();\n  }\n\n  updateCard({ name, burnedCalories, bodyPart, target, rating }) {\n    super.updateCard({ name, burnedCalories, bodyPart, target });\n    this._card.querySelector('.exer-card__post-tag span')\n      .innerText = this.#numberToString(rating);\n  }\n\n  _getPostTagItem() {\n    const item = super._getPostTagItem();\n    const span = document.createElement('span');\n    const icon = this.getIcon('18', '18', 'rating-star-orange');\n    item.append(span, icon);\n    return item;\n  }\n\n  #numberToString(num) {\n    return Number.isInteger(num) ? num + '.0' : num.toString();\n  }\n}","import { ApiService, StorageService } from './services.js';\nimport { Templates } from './templates.js';\nimport { showExerciseDetails } from './modal_exercise.js';\nimport { Quote } from './quote.js';\nimport { ExerciseCard } from './exercise-card.js';\n\nconst FilterTypes = Object.freeze({\n  MUSCLES: 'Muscles',\n  BODY_PARTS: 'Body parts',\n  EQUIPMENT: 'Equipment',\n});\nconst filtersLimit = 12;\nconst exercisesLimit = 10;\nlet currentPage = 1;\nlet currentFilterType = FilterTypes.MUSCLES;\nlet currentFilter;\nlet currentKeyword;\n\nconst loader = document.querySelector('.loader');\n\nexport async function InitializeExercisesSection() {\n  drawFilterTypes();\n  addSearchEvents();\n  loader.classList.add('visible');\n  await drawExerciseFilters(currentFilterType);\n  loader.classList.remove('visible');\n  await drawDailyQuote();\n}\n\nasync function drawDailyQuote() {\n  const quoteElem = new Quote(Quote.PAGES.HOME, 'exercises-sidebar');\n  const { quote, author } = await StorageService.loadDailyQuote();\n  quoteElem.updateQuote({ quote, author });\n}\n\nasync function drawFilterTypes() {\n  let html = '';\n  for (let key in FilterTypes) {\n    html += Templates.filterTypeHtml(\n      FilterTypes[key],\n      FilterTypes[key] == currentFilterType\n    );\n  }\n  document.getElementById('filter-types').innerHTML = html;\n  addFilterTypeEvents();\n}\n\nasync function drawExerciseFilters() {\n  const filtersResponse = await ApiService.fetchFilters(\n    currentFilterType,\n    currentPage,\n    filtersLimit\n  );\n  let html = '';\n  for (let filter of filtersResponse.results) {\n    html += Templates.exerciseFilterHtml(filter);\n  }\n  document.getElementById('exercises').style.display = 'none';\n  document.getElementById('filters').style.display = 'flex';\n  document.getElementById('label-search').style.display = 'none';\n  document.getElementById('filters').innerHTML = html;\n\n  drawPageButtons(filtersResponse.totalPages);\n  addFilterEvents();\n  displayNoItemsText(filtersResponse.results.length);\n}\n\nfunction drawPageButtons(totalPages) {\n  if (totalPages == 1) {\n    document.getElementById('pages').innerText = '';\n    return;\n  }\n  let html = '';\n  if (totalPages < 10) {\n    for (let i = 1; i <= totalPages; i++) {\n      html += Templates.pageNumberButtonHtml(i, i == currentPage);\n    }\n  } else {\n    let firstPageNumber = currentPage - 3 > 1 ? currentPage - 3 : 1;\n    const lastPageNumber =\n      totalPages - firstPageNumber < 6 ? totalPages : firstPageNumber + 6;\n    firstPageNumber =\n      lastPageNumber - firstPageNumber < 6\n        ? lastPageNumber - 6\n        : firstPageNumber;\n\n    html += Templates.pageNavigationButton(\n      1,\n      'start',\n      currentPage > 1 ? 'active' : 'disabled'\n    );\n    html += Templates.pageNavigationButton(\n      currentPage - 1,\n      'prev',\n      currentPage > 1 ? 'active' : 'disabled'\n    );\n    if (firstPageNumber > 1) html += Templates.pageNumberDots();\n\n    for (let i = firstPageNumber; i <= lastPageNumber; i++) {\n      html += Templates.pageNumberButtonHtml(i, i == currentPage);\n    }\n    if (lastPageNumber < totalPages) html += Templates.pageNumberDots();\n\n    html += Templates.pageNavigationButton(\n      currentPage + 1,\n      'next',\n      currentPage < totalPages ? 'active' : 'disabled'\n    );\n    html += Templates.pageNavigationButton(\n      totalPages,\n      'end',\n      currentPage < totalPages ? 'active' : 'disabled'\n    );\n  }\n\n  document.getElementById('pages').innerHTML = html;\n  addPageButtonEvents();\n}\n\nasync function drawExercises() {\n  const listElem = document.getElementById('exercises');\n  const muscle = currentFilterType == FilterTypes.MUSCLES ? currentFilter : '';\n  const bodypart =\n    currentFilterType == FilterTypes.BODY_PARTS ? currentFilter : '';\n  const equipment =\n    currentFilterType == FilterTypes.EQUIPMENT ? currentFilter : '';\n  const exercisesResponse = await ApiService.fetchExercises(\n    bodypart,\n    muscle,\n    equipment,\n    currentKeyword,\n    currentPage,\n    exercisesLimit\n  );\n\n  listElem.innerHTML = '';\n\n  for (let exercise of exercisesResponse.results) {\n    const card = new ExerciseCard();\n    card.startBtn.addEventListener('pointerup', async function (e) {\n      const isFavorite = StorageService.loadFavorites().some(\n        x => x._id === exercise._id\n      );\n      showExerciseDetails(exercise, isFavorite);\n    });\n    card.updateCard(exercise);\n    listElem.append(card.card);\n  }\n\n  document.getElementById('filters').style.display = 'none';\n  document.getElementById('label-search').style.display = 'block';\n  document.getElementById('exercises').style.display = 'flex';\n\n  drawPageButtons(exercisesResponse.totalPages);\n  displayNoItemsText(exercisesResponse.results.length);\n}\n\nfunction displayNoItemsText(length) {\n  document.getElementById('noitems').style.display =\n    length == 0 ? 'block' : 'none';\n  document.querySelector('.exercises-layout').style.flexDirection =\n    length == 0 ? 'row' : 'column';\n}\n\nfunction addFilterTypeEvents() {\n  document.querySelectorAll('a[name=\"filter-type\"]').forEach(btn => {\n    btn.addEventListener('click', async function (e) {\n      e.preventDefault();\n      if (currentFilterType != this.dataset.filterType || currentFilter) {\n        currentFilterType = this.dataset.filterType;\n        currentPage = 1;\n        currentFilter = null;\n        currentKeyword = '';\n        document.getElementById('search').value = '';\n        document.querySelectorAll('.exercises-filter-type').forEach(el => {\n          el.classList.remove('active');\n        });\n        this.classList.add('active');\n        document.getElementById('exercises-title').innerHTML = 'Exercises';\n        await drawExerciseFilters();\n      }\n    });\n  });\n}\n\nfunction addFilterEvents() {\n  document.querySelectorAll('li[name=\"filter-item\"]').forEach(btn => {\n    btn.addEventListener('click', async function (e) {\n      e.preventDefault();\n      currentFilter = this.dataset.filter;\n      currentPage = 1;\n      document.getElementById('exercises-title').innerHTML +=\n        Templates.exercisesTitleFilter(currentFilter);\n      await drawExercises();\n    });\n  });\n}\n\nfunction addPageButtonEvents() {\n  document.querySelectorAll('[name=\"page-number-button\"]').forEach(btn => {\n    btn.addEventListener('click', function (e) {\n      e.preventDefault();\n      currentPage = +this.dataset.pageNumber;\n      if (currentFilter) {\n        drawExercises();\n      } else {\n        drawExerciseFilters();\n      }\n    });\n  });\n}\n\nfunction debounce(func, delay) {\n  let timeout;\n  return function (...args) {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func.apply(this, args), delay);\n  };\n}\n\nlet lastKeyword = '';\n\nfunction addSearchEvents() {\n  const searchInput = document.getElementById('search');\n\n  const debouncedSearch = debounce(function () {\n    const keyword = this.value.trim();\n    if (keyword !== lastKeyword) {\n      lastKeyword = keyword;\n      currentKeyword = keyword;\n      currentPage = 1;\n      drawExercises();\n    }\n  }, 1000);\n\n  searchInput.addEventListener('keyup', function (e) {\n    const keyword = this.value.trim();\n    if (e.key === 'Enter') {\n      if (keyword !== lastKeyword) {\n        lastKeyword = keyword;\n        currentKeyword = keyword;\n        currentPage = 1;\n        drawExercises(); // fire immediately\n      }\n    } else {\n      debouncedSearch.call(this);\n    }\n  });\n}\n","const tagsList = document.querySelector('.js-hero__tags-list');\nconst tags = ['Sport', 'Healthy', 'Workout', 'Diet'];\n\nfunction renderTags() {\n  tags.forEach(tag => {\n    const li = document.createElement('li');\n    li.classList.add('hero__tags-item', 'js-hero__tags-item');\n    li.innerText = `#${tag}`;\n    tagsList.append(li);\n  });\n}\n\n\nrenderTags();","import iziToast from 'izitoast';\nimport { ApiError, ApiService } from './services.js';\n\nconst SUBSCRIBE_FORM = document.querySelector('.subscribe-form');\nconst EMAIL_INPUT = document.querySelector('.subscribe-form__input');\n\nfunction subscribeForm() {\n  SUBSCRIBE_FORM.addEventListener('submit', async(event) => {\n    event.preventDefault();\n    const EMAIL_VALUE = EMAIL_INPUT.value;\n\n    if (validateEmail(EMAIL_VALUE)) {\n      try {\n        const res = await ApiService.addSubscription(EMAIL_VALUE);\n\n        if (EMAIL_INPUT.classList.contains('invalid')) {\n          EMAIL_INPUT.classList.remove('invalid');\n        }\n\n        EMAIL_INPUT.value = '';\n\n        iziToast.success({\n          message:  res.message,\n          position: 'bottomCenter',\n        });\n      } catch (error) {\n        if (error instanceof ApiError) {\n          if (error.statusCode === 409) {\n            iziToast.warning({\n              message: 'Provided email is already subscribed!',\n              position: 'bottomCenter',\n            });\n          }\n        }\n      }\n    }\n    else {\n      EMAIL_INPUT.classList.add('invalid');\n\n      iziToast.warning({\n        message: 'Provided email is not valid!',\n        position: 'bottomCenter',\n      });\n    }\n  })\n}\n\nfunction validateEmail(email) {\n  const re = /\\S+@\\S+\\.\\S+/;\n  return re.test(email);\n}\n\nsubscribeForm();\n","import 'izitoast/dist/css/iziToast.min.css';\nimport { InitializeExercisesSection } from './js/exercises';\nimport './js/favorites.js';\nimport './js/tags.js';\nimport './js/subscribe-form.js';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  InitializeExercisesSection();\n  initializeTopNavigation();\n  initializeScrollToTop();\n});\n\nfunction initializeTopNavigation() {\n  document\n    .getElementById('home-page-button')\n    .addEventListener('click', function (e) {\n      e.preventDefault();\n      document.getElementById('home-page').style.display = 'block';\n      document.getElementById('favorites-page').style.display = 'none';\n    });\n  document\n    .getElementById('logo-button')\n    .addEventListener('click', function (e) {\n      e.preventDefault();\n      document.getElementById('home-page').style.display = 'block';\n      document.getElementById('favorites-page').style.display = 'none';\n    });\n  document\n    .getElementById('favorites-page-button')\n    .addEventListener('click', function (e) {\n      e.preventDefault();\n      document.getElementById('home-page').style.display = 'none';\n      document.getElementById('favorites-page').style.display = 'block';\n    });\n}\n\nfunction initializeScrollToTop() {\n  const scrollButton = document.getElementById('top-button');\n  scrollButton.addEventListener('click', function topFunction() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  });\n\n  window.onscroll = function () {\n    if (\n      document.body.scrollTop > 20 ||\n      document.documentElement.scrollTop > 20\n    ) {\n      scrollButton.style.display = 'block';\n    } else {\n      scrollButton.style.display = 'none';\n    }\n  };\n\n  const iconUse = document.getElementById('top-button-icon');\n\n  function updateIconBasedOnScreenSize() {\n    if (window.innerWidth <= 768) {\n      iconUse.setAttribute('href', './sprite.svg#arrow-to-top-small');\n    } else {\n      iconUse.setAttribute('href', './sprite.svg#arrow-to-top-big');\n    }\n  }\n\n  updateIconBasedOnScreenSize();\n\n  window.addEventListener('resize', updateIconBasedOnScreenSize);\n}\n"],"names":["burgerMenu","sideMenu","sideMenuClose","sideMenuHomeButton","sideMenuFavoritesButton","event","switchSection","sectionId","category","closeSideMenu","initializeSideMenuNavigation","e","Container","Items","ActiveItem","Switcher","moveSwitcherTo","item","isActiveItems","elements","activeElem","container","element","link","_a","href","ApiError","message","statusCode","_ApiService","filter","page","limit","params","response","axios","error","bodypart","muscles","equipment","keyword","exerciseID","rate","email","review","data","__publicField","ApiService","_StorageService","now","day","month","year","quote","dated_quote","date","apiQuote","exercise","favorites","id","f","StorageService","Templates","filterType","active","pageNumber","disabled","type","state","Card","__privateAdd","_Card_instances","_STATS_CLASS_NAMES","_STATS_ITEMS","__privateGet","_startBtn","__privateMethod","createCard_fn","__privateSet","name","burnedCalories","bodyPart","target","truncateString_fn","width","height","svg","use","li","header","tagBox","tag","postTag","startBtn","icon","nameText","stats","className","getStatsEl_fn","span","str","maxLength","strSliced","FavoritesCard","_removeBtn","removeBtn","Quote","parentClass","_Quote_instances","_textId","_authorId","_textElem","_authorElem","initTextFields_fn","author","textElem","authorElem","EMPTY_MSG","quoteElem","listContainer","emptyListElem","emptyListText","listElem","favNavBtn","updateFavoritesList","favList","showEmptyMsg","updateList","updateQuote","listData","clearList","_id","addCard","card","removeCard","isFavorite","x","showExerciseDetails","infoItems","escCallback","instance","basicLightbox.create","createRatingStarsMarkup","createInfoLayoutMarkup","createFavButtonInnerMarkup","favButton","rating","markups","i","iconName","value","ExerciseCard","_ExerciseCard_instances","numberToString_fn","num","FilterTypes","filtersLimit","exercisesLimit","currentPage","currentFilterType","currentFilter","currentKeyword","loader","InitializeExercisesSection","drawFilterTypes","addSearchEvents","drawExerciseFilters","drawDailyQuote","html","key","addFilterTypeEvents","filtersResponse","drawPageButtons","addFilterEvents","displayNoItemsText","totalPages","firstPageNumber","lastPageNumber","addPageButtonEvents","drawExercises","muscle","exercisesResponse","length","btn","el","debounce","func","delay","timeout","args","lastKeyword","searchInput","debouncedSearch","tagsList","tags","renderTags","SUBSCRIBE_FORM","EMAIL_INPUT","subscribeForm","EMAIL_VALUE","validateEmail","res","iziToast","initializeTopNavigation","initializeScrollToTop","scrollButton","iconUse","updateIconBasedOnScreenSize"],"mappings":"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"}